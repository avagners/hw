# Страшное слово в ваших спецификациях

## 1. JSON с любыми полями
Ограничение: фильтрация через allowed_fields, extra = ignore в Pydantic.  
Отказ: жёсткое API с фиксированной схемой. Только известные поля.  
Разница: при ограничении мы «пропускаем» лишнее, при отказе — не допускаем вообще.

## 2. Бэкап всех файлов
Ограничение: скрипт os.walk() с exclude-паттернами.  
Отказ: бэкап по бизнес-типам данных, хранение метаданных вместо всего дерева.  
Разница: при ограничении мы боимся забыть что-то исключить, при отказе — знаем, что именно сохраняем.

## 3. Валидация всех полей формы
Ограничение: bleach.clean() на всё входящее.  
Отказ: декларативная Pydantic-модель, разные правила по полям.  
Разница: фильтрация «на всякий случай» против точной контрактации на уровне схемы.

## 4. Лог всех действий пользователя
Ограничение: логируем «всё подряд» через middleware и JS-хуки.  
Отказ: фиксированные типы событий (login, click, submit), лог только по ним.  
Разница: «ловим всё» vs. «логируем то, что запланировано».

## 5. Рефакторинг всех импортов
Ограничение: скрипт, заменяющий old_utils.foo в коде.  
Отказ: единая точка входа (например, utils.__init__.py) и использование через неё.  
Разница: поиск и замена во всём проекте vs. правка одного файла.

---
## Выводы

Когда я только начинал, мне казалось, что фраза «обработать всё» — это нормально. Типа универсальность — это хорошо. Но на практике «всё» почти всегда означает неопределённость, хаос и  баги.

Что такое «страшное слово»?
Это требования вида:  
– «Обрабатывать всё»,  
– «Поддерживать любые поля»,  
– «Логировать все действия»,  
– и т.п.  

Страшное слово в ТЗ — повод не радоваться, а напрячься.
Если в задаче звучит «всё», «всегда», «любое» — это не универсальность, а отсутствие ясности. Тут надо не сразу кодить, а сесть и подумать: «А можно ли это переписать по-нормальному?»

"Всё" нельзя победить фильтрами (ограничениями).
Сколько ни пиши исключений — всегда появится что-то новое, что сломает логику. Это бесконечная борьба с последствиями, а не с причиной.
Ограничение — это временная защита. Да, оно спасает в моменте. Но внутри ты всё равно оставляешь бомбу замедленного действия.

Полный отказ — сначала больно, потом спокойно.
Когда перепроектируешь систему и удаляешь саму возможность «всего» — становится легче. Архитектура становится предсказуемой, код — чище, ты — спокойнее.

Важно научиться задавать правильные вопросы.
- «А что именно важно?»,
- «А можно ли сузить область?»,
- «А что если мы вообще это уберём?»

Ограничение — это костыль. Отказ — это решение.