# Абстрагируем управляющие паттерны

## Пример 1: Управление ресурсами (например, работа с файлами)

Было:
```python
try:
    file = open('example.txt', 'r')
    data = file.read()
finally:
    file.close()
```

Стало:
```python
with open('example.txt', 'r') as file:
    data = file.read()
```

Использование конструкции `with` упрощает управление ресурсами и гарантирует, что файл будет закрыт автоматически после завершения блока `with`.

## Пример 2: Итерация с индексами

Было:
```python
for i in range(len(my_list)):
    print(f"Index: {i}, Value: {my_list[i]}")
```

Стало:
```python
for index, value in enumerate(my_list):
    print(f"Index: {index}, Value: {value}")
```

Использование функции `enumerate` делает код более читаемым и понятным, устраняя необходимость вручную управлять индексами.

## Пример 3: Проверка и создание директорий

Было:
```python
import os

if not os.path.exists('my_directory'):
    os.makedirs('my_directory')
```

Стало:
```python
from pathlib import Path

Path('my_directory').mkdir(parents=True, exist_ok=True)
```

`Path.mkdir` с параметрами `parents=True` и `exist_ok=True` проверяет наличие директории и создает ее, если она не существует, что делает код компактным и легко читаемым. Таким образом избавляемся от условного оператора.

## Выводы

Использование абстракций повышает читаемость и поддерживаемость кода, делая его компактным и понятным.
Абстракции помогают избежать глубоких вложенностей и уменьшить повторяющийся код. Применение специальных конструкций и стандартных библиотек `Python` (таких как `with`, `enumerate`, `pathlib`, `contextlib`) упрощает код.
Выделение логики в отдельные функции или контекстные менеджеры упрощает тестирование и изменение кода.