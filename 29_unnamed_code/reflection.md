# Неименованные кусочки кода

## Пример

```python
def process_orders(orders):
    total_amount = 0
    for order in orders:
        # Подсчёт общей суммы заказа
        order_total = sum(item['price'] * item['quantity'] for item in order['items'])
        total_amount += order_total

        # Применение скидки, если сумма заказа превышает 1000
        if order_total > 1000:
            discount = order_total * 0.1
            order_total -= discount  # применение скидки
        else:
            discount = 0

        # Подготовка строки для отчёта по заказу
        order_summary = f"Order #{order['id']} - Total: {order_total:.2f}, Discount: {discount:.2f}"

        # Логирование статуса выполнения заказа
        print(order_summary)

        # Обновление статуса заказа (псевдоданные для примера)
        order['status'] = 'processed' if order_total > 0 else 'failed'

    return total_amount


if __name__ == "__main__":
    # Примеры данных
    orders = [
        {'id': 1, 'items': [{'price': 500, 'quantity': 2}], 'status': 'pending'},
        {'id': 2, 'items': [{'price': 200, 'quantity': 1}], 'status': 'pending'},
        {'id': 3, 'items': [{'price': 100, 'quantity': 10}], 'status': 'pending'}
    ]

    # Вызов функции
    total = process_orders(orders)
    print(f"Total revenue: {total:.2f}")
```

## Обнаруженные "неименованные" кусочки кода:
- **Подсчёт общей суммы заказа:** Включает суммирование стоимости всех товаров. Этот фрагмент автономен, но его проще оставить в теле цикла для читабельности.
- **Применение скидки:** Логика применения скидки и её расчёт связана с общей суммой заказа, но не требует отдельной функции, так как она довольно простая.
- **Подготовка строки для отчёта:** Формирование строкового представления заказа для вывода в лог.
- **Логирование статуса выполнения:** Простой вывод информации в консоль для отладки.
- **Обновление статуса заказа:** Простая, но значимая логика обновления статуса заказа в зависимости от итоговой суммы.

Все эти фрагменты семантически значимы и автономны, но выделение их в отдельные функции могло бы усложнить восприятие этого небольшого кода.


## Выводы

Важно замечать и осознавать семантически значимые кусочки кода. Раньше я воспринимал код как единый поток инструкций, не задумываясь о том, что даже небольшие фрагменты могут иметь самостоятельный смысл. Понял, что комментарии — мощный инструмент для повышения читаемости кода. Нужно думать о коде через данные и их преобразования и не забывать добавлять комментарии для семантически значимых кусочков кода.