# 4 важных свойства хорошего кода

## 1. MM-бот с плагинной архитектурой

Оценивать каждое свойство отдельно оказалось сложно - они взаимозависимы.
Например, если замысел выражен в одном месте, то и модульное понимание почти гарантировано, а потеря понятности сразу снижает робастность.

Если смотреть на совокупное соответствие всем четырём свойствам (модульное понимание, восстановление замысла, выраженность замысла, робастность), то бот с плагинной архитектурой показывает примерно 80 % от идеала.

- Архитектура действительно модульная: каждый плагин - самодостаточная единица.
- Замысел автора читается: расширение возможностей через наследование от базового класса и регистрацию в core.
- Робастность высокая - ошибка плагина не рушит систему.
- Но замысел слегка “размазан”: часть логики бота перекликается с core-пакетом, и иногда сложно решить на каком уровне стоит внести изменения.

Итог:
Система зрелая и устойчивая, но иногда сложно решить на каком уровне стоит внести изменения - в коде самого бота или в core-пакете.

## 2. MM-бот с навыками (YAML)

Этот бот ближе к архитектурному идеалу.
Все четыре свойства переплетены и поддерживают друг друга: декларативность → понятность → надёжность → эволюционность.
Совокупное соответствие можно оценить примерно в 95 %.

- Каждый YAML-файл - завершённая, понятная единица функционала.
- Замысел автора ясен сразу: навык - это правило обработки запроса.
- Замысел выражен в одном месте - в самом YAML и в схеме его интерпретации.
- Архитектура робастна: микросервисы изолированы, ошибки в навыках не влияют на ядро.
- Единственный риск - разрастание схем YAML без явного версионирования.

Это очень сбалансированный пример зрелой архитектуры. Если добавить строгую валидацию и версионность схемы, можно дойти до уровня эталона.

## Выводы

Трудно измерить каждое свойство отдельно и дать оценку в процентах. Если система понятна и модульна, то она уже почти наверняка надёжна и выражает замысел в одном месте.

Оба бота написаны по DDD, и это даёт им хорошую базу.
Но YAML-бот показал, насколько мощной может быть декларативная простота: чем меньше кода нужно для выражения замысла, тем ближе ты к идеалу.

Раньше я думал, что хорошие проекты - это те, где нет багов.
Теперь понимаю: хороший проект - это тот, где замысел не теряется со временем, даже если код меняют десятки людей.
И чем проще структура (как у YAML-бота), тем выше шанс, что идея выживет.
